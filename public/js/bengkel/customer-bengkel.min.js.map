{"version":3,"sources":["customer-bengkel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"customer-bengkel.min.js","sourcesContent":["$(document).ready(function () {\n\n    $('#datatable').DataTable({});\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'setup/kota/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"kota_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n                edit_form.find('select[name=\"kota_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n            });\n        }\n    });\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'setup/warna/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"warna_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nick\n                }));\n                edit_form.find('select[name=\"warna_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nick\n                }));\n            });\n        }\n    });\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'setup/kelurahan/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"kelurahan_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n                edit_form.find('select[name=\"kelurahan_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n            });\n        }\n    });\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'setup/kecamatan/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"kecamatan_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n                edit_form.find('select[name=\"kecamatan_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nama\n                }));\n            });\n        }\n    });\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'setup/unit/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"unit_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nick\n                }));\n                edit_form.find('select[name=\"unit_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.nick\n                }));\n            });\n        }\n    });\n\n    $.ajax({\n        type: 'get',\n        url: defaultUrl + 'bengkel/jenis-buku/all',\n        success: function (data) {\n            var _ = $('#create-customer-bengkel-form');\n            var edit_form = $('#edit-customer-bengkel-form');\n            $.each(data, function (index, value) {\n                _.find('select[name=\"jenis_buku_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.deskripsi\n                }));\n                edit_form.find('select[name=\"jenis_buku_id\"]').append($('<option>', {\n                    value: value.id,\n                    text: value.deskripsi\n                }));\n            });\n        }\n    });\n\n    $('#create-customer-bengkel').on('click', function () {\n        $('#create-customer-bengkel-modal').modal('toggle');\n    });\n\n    $('#datatable-body').on('click', '#row #delete', function () {\n        var _ = $(this);\n        var parent = _.parent();\n        var customer_bengkel_id = parent.parent().find('input').val();\n        swal({\n            title: \"Apakah kamu yakin?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#e63d53\",\n            confirmButtonText: \"Iya\",\n            cancelButtonText: \"Tidak\"\n        }).then(function (result) {\n            if (result.value) {\n                $.ajax({\n                    type: 'post',\n                    url: 'customer-bengkel/delete',\n                    data: {\n                        customer_bengkel_id: customer_bengkel_id,\n                        _token: $('input[name=\"_token\"]').val()\n                    },\n                    success: function (data) {\n                        location.reload();\n                    },\n                    error: function (data) {\n                        var errors = $.parseJSON(data.responseText);\n                        $.each(errors, function (index, value) {\n                            swal({\n                                title: \"Maaf.\",\n                                text: value,\n                                type: \"error\",\n                                showConfirmButton: true\n                            });\n                        });\n                    }\n                });\n            }\n        });\n    }).on('click', '#row #edit', function () {\n        var _ = $(this);\n        var parent = _.parent().parent();\n        $('#edit-customer-bengkel-modal').modal('toggle');\n        var form = $('#edit-customer-bengkel-form');\n        var customer_bengkel_id = parent.find('input[name=\"customer_bengkel_id\"]').val();\n        $.ajax({\n            type: 'get',\n            url: defaultUrl + 'bengkel/customer-bengkel/' + customer_bengkel_id,\n            success: function (data) {\n                form.find('input[name=\"nama\"]').val(data.nama);\n                form.find('input[name=\"alamat\"]').val(data.alamat);\n                form.find('input[name=\"no_rangka\"]').val(data.no_rangka);\n                form.find('input[name=\"no_polisi\"]').val(data.no_polisi);\n                form.find('input[name=\"no_mesin\"]').val(data.no_mesin);\n                form.find('input[name=\"tahun\"]').val(data.tahun);\n                form.find('input[name=\"no_ksg\"]').val(data.no_ksg);\n                form.find('input[name=\"kode_pos\"]').val(data.kode_pos);\n                form.find('input[name=\"no_polisi\"]').val(data.no_polisi);\n                form.find('input[name=\"tanggal_lahir\"]').val(data.tanggal_lahir);\n                form.find('input[name=\"telephone_number\"]').val(data.telephone_number);\n                form.find('input[name=\"cellphone_number\"]').val(data.cellphone_number);\n                form.find('input[name=\"id_number\"]').val(data.id_number);\n                form.find('input[name=\"stnk_expiry_date\"]').val(data.stnk_expiry_date);\n                form.find('select[name=\"kota_id\"]').val(data.kota.id);\n                form.find('select[name=\"kelurahan_id\"]').val(data.kelurahan.id);\n                form.find('select[name=\"kecamatan_id\"]').val(data.kecamatan.id);\n                form.find('select[name=\"unit_id\"]').val(data.unit.id);\n                form.find('select[name=\"warna_id\"]').val(data.warna.id);\n                form.find('select[name=\"jenis_buku_id\"]').val(data.jenis_buku.id);\n                form.find('select[name=\"gender\"]').val(data.gender);\n                form.find('select[name=\"tipe_konsumen\"]').val(data.tipe_konsumen);\n                form.find('input[name=\"customer_bengkel_id\"]').val(parent.find('input[name=\"customer_bengkel_id\"]').val());\n            }\n        });\n    });\n\n    $('#edit-customer-bengkel-form').on('submit', function (e) {\n        e.preventDefault();\n        $('#error-edit-customer-bengkel').addClass('hidden').empty();\n        var _ = $(this);\n        $.ajax({\n            type: 'post',\n            url: 'customer-bengkel/update',\n            data: _.serializeArray(),\n            success: function (data) {\n                location.reload();\n            },\n            error: function (data) {\n                var errors = $.parseJSON(data.responseText);\n                $('#error-edit-customer-bengkel').empty();\n                $.each(errors, function (index, value) {\n                    $('#error-edit-customer-bengkel').removeClass('hidden').append('<li>' + value + '</li>');\n                });\n                $('#edit-customer-bengkel-modal').animate({scrollTop: 0}, 'slow');\n            }\n        });\n    });\n\n    $('#create-customer-bengkel-form').on('submit', function (e) {\n        e.preventDefault();\n        var _ = $(this);\n        $('#error-create-customer-bengkel').addClass('hidden').empty();\n        $.ajax({\n            type: 'post',\n            url: defaultUrl + 'bengkel/customer-bengkel/create',\n            data: _.serializeArray(),\n            success: function (data) {\n                location.reload();\n            },\n            error: function (data) {\n                var errors = $.parseJSON(data.responseText);\n                $('#error-create-customer-bengkel').empty();\n                $.each(errors, function (index, value) {\n                    $('#error-create-customer-bengkel').removeClass('hidden').append('<li>' + value + '</li>');\n                });\n                $('#create-customer-bengkel-modal').animate({scrollTop: 0}, 'slow');\n            }\n        });\n    });\n});\n\n\n"]}