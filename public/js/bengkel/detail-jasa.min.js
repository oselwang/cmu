$(document).ready(function(){$("#datatable").DataTable({}),$.ajax({type:"get",url:defaultUrl+"bengkel/tipe-jasa/all",success:function(a){var e=$("#create-detail-jasa-form"),t=$("#edit-detail-jasa-form");$.each(a,function(a,i){e.find('select[name="tipe_jasa_id"]').append($("<option>",{value:i.id,text:i.deskripsi})),t.find('select[name="tipe_jasa_id"]').append($("<option>",{value:i.id,text:i.deskripsi}))})}}),$("#create-detail-jasa").on("click",function(){$("#create-detail-jasa-modal").modal("toggle")}),$("#datatable-body").on("click","#row #delete",function(){var a=$(this),e=a.parent(),t=e.parent().find("input").val();swal({title:"Apakah kamu yakin?",type:"warning",showCancelButton:!0,confirmButtonColor:"#e63d53",confirmButtonText:"Iya",cancelButtonText:"Tidak"}).then(function(a){a.value&&$.ajax({type:"post",url:"detail-jasa/delete",data:{detail_jasa_id:t,_token:$('input[name="_token"]').val()},success:function(a){location.reload()},error:function(a){var e=$.parseJSON(a.responseText);$.each(e,function(a,e){swal({title:"Maaf.",text:e,type:"error",showConfirmButton:!0})})}})})}).on("click","#row #edit",function(){var a=$(this),e=a.parent().parent();$("#edit-detail-jasa-modal").modal("toggle");var t=$("#edit-detail-jasa-form"),i=e.find('input[name="detail_jasa_id"]').val();t.find('input[name="deskripsi"]').val(e.find("#deskripsi").text()),t.find('input[name="harga"]').val(e.find("#harga").text()),t.find('input[name="detail_jasa_id"]').val(i),$.ajax({type:"get",url:defaultUrl+"bengkel/detail-jasa/"+i,success:function(a){t.find('select[name="tipe_jasa_id"]').val(a.tipe_jasa.id),t.find('input[name="estimasi_jam"]').val(a.estimasi_jam),t.find('input[name="estimasi_menit"]').val(a.estimasi_menit),t.find('input[name="estimasi_detik"]').val(a.estimasi_detik)}})}),$("#edit-detail-jasa-form").on("submit",function(a){a.preventDefault(),$("#error-edit-detail-jasa").addClass("hidden").empty();var e=$(this);$.ajax({type:"post",url:"detail-jasa/update",data:e.serializeArray(),success:function(a){location.reload()},error:function(a){var e=$.parseJSON(a.responseText);$("#error-edit-detail-jasa").empty(),$.each(e,function(a,e){$("#error-edit-detail-jasa").removeClass("hidden").append("<li>"+e+"</li>")}),$("#edit-detail-jasa-modal").animate({scrollTop:0},"slow")}})}),$("#create-detail-jasa-form").on("submit",function(a){a.preventDefault();var e=$(this);$("#error-create-detail-jasa").addClass("hidden").empty(),$.ajax({type:"post",url:defaultUrl+"bengkel/detail-jasa/create",data:e.serializeArray(),success:function(a){location.reload()},error:function(a){var e=$.parseJSON(a.responseText);$("#error-create-detail-jasa").empty(),$.each(e,function(a,e){$("#error-create-detail-jasa").removeClass("hidden").append("<li>"+e+"</li>")}),$("#create-detail-jasa-modal").animate({scrollTop:0},"slow")}})})});